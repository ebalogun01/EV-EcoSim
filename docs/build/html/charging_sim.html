<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Charging simulator &mdash; EV-Ecosim 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8d563738"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Test cases" href="test_cases.html" />
    <link rel="prev" title="Battery System Identification" href="batt_sys_identification.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            EV-Ecosim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="feeder_population.html">Feeder population</a></li>
<li class="toctree-l2"><a class="reference internal" href="batt_sys_identification.html">Battery System Identification</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Charging simulator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.battery">charging_sim.battery module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.battery.Battery"><code class="docutils literal notranslate"><span class="pre">Battery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.battery.test"><code class="docutils literal notranslate"><span class="pre">test()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.batteryAgingSim">charging_sim.batteryAgingSim module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.batteryAgingSim.BatteryAging"><code class="docutils literal notranslate"><span class="pre">BatteryAging</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.batterypack">charging_sim.batterypack module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.batterypack.Battery"><code class="docutils literal notranslate"><span class="pre">Battery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.batterypack.test"><code class="docutils literal notranslate"><span class="pre">test()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#charging-sim-batterytest-module">charging_sim.batterytest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.capacitor">charging_sim.capacitor module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.capacitor.Capacitor"><code class="docutils literal notranslate"><span class="pre">Capacitor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.chargingStation">charging_sim.chargingStation module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.chargingStation.ChargingStation"><code class="docutils literal notranslate"><span class="pre">ChargingStation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.controller">charging_sim.controller module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.controller.MPC"><code class="docutils literal notranslate"><span class="pre">MPC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.controller.Oneshot"><code class="docutils literal notranslate"><span class="pre">Oneshot</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.electricityPrices">charging_sim.electricityPrices module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.electricityPrices.PriceLoader"><code class="docutils literal notranslate"><span class="pre">PriceLoader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.electricityPrices.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.optimization">charging_sim.optimization module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.optimization.Optimization"><code class="docutils literal notranslate"><span class="pre">Optimization</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.orchestrator">charging_sim.orchestrator module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.orchestrator.ChargingSim"><code class="docutils literal notranslate"><span class="pre">ChargingSim</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.simulate">charging_sim.simulate module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.simulate.make_scenarios"><code class="docutils literal notranslate"><span class="pre">make_scenarios()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.simulate.run"><code class="docutils literal notranslate"><span class="pre">run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.simulate.run_scenario_single"><code class="docutils literal notranslate"><span class="pre">run_scenario_single()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.simulate.run_scenarios_parallel"><code class="docutils literal notranslate"><span class="pre">run_scenarios_parallel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.simulate.run_scenarios_sequential"><code class="docutils literal notranslate"><span class="pre">run_scenarios_sequential()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.solar">charging_sim.solar module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.solar.Solar"><code class="docutils literal notranslate"><span class="pre">Solar</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.solar.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.utils">charging_sim.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.PGE_BEV2_S"><code class="docutils literal notranslate"><span class="pre">PGE_BEV2_S()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.add_power_profile_to_object"><code class="docutils literal notranslate"><span class="pre">add_power_profile_to_object()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.build_cost_PGE_BEV2S"><code class="docutils literal notranslate"><span class="pre">build_cost_PGE_BEV2S()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.build_electricity_cost"><code class="docutils literal notranslate"><span class="pre">build_electricity_cost()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.build_objective"><code class="docutils literal notranslate"><span class="pre">build_objective()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#charging_sim.utils.load_prices"><code class="docutils literal notranslate"><span class="pre">load_prices()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_cases.html">Test cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis.html">Post-simulation analysis</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EV-Ecosim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Packages</a></li>
      <li class="breadcrumb-item active">Charging simulator</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="charging-simulator">
<h1>Charging simulator<a class="headerlink" href="#charging-simulator" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-charging_sim.battery">
<span id="charging-sim-battery-module"></span><h2>charging_sim.battery module<a class="headerlink" href="#module-charging_sim.battery" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.battery.Battery">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.battery.</span></span><span class="sig-name descname"><span class="pre">Battery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Each instantiation of this class must include at least a config file, which contains the physical
constraints and properties of the battery.</p>
<dl class="simple">
<dt>Properties are mainly controlled in the battery config file ‘battery.json’</dt><dd><ul class="simple">
<li><p>max-c-rate - determines the power capacity of the cell as a multiple of the value of the energy capacity.</p></li>
<li><p>max voltage(V) - maximum allowable battery voltage.</p></li>
<li><p>min Voltage (V) - minimum allowable battery voltage.</p></li>
<li><p>nominal energy (kWh) - energy deliverable to the battery.</p></li>
<li><p>id (-).</p></li>
<li><p>Ambient temperature (Celsius).</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>battery_type</strong> – Type of battery (inconsequential to current dynamics).</p></li>
<li><p><strong>node</strong> – The node/bus in the distribution network in which the battery resides.</p></li>
<li><p><strong>self.config</strong> – Battery configuration file containing the main attributes of the battery.</p></li>
<li><p><strong>controller</strong> – Controller for the battery.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Battery object.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.battery_setup">
<span class="sig-name descname"><span class="pre">battery_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.battery_setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.battery_setup" title="Link to this definition"></a></dt>
<dd><p>This sets up the series-parallel configuration of the cells,
given the capacity and voltage of the battery. Scales up Ah capacity, not voltage. Voltage in this setup is
fixed by the battery json file while the Ah capacity is floating and determined by the given pack voltage and
Energy Capacity.</p>
<ul class="simple">
<li><p>Energy capacity (Wh).</p></li>
<li><p>Voltage (V).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None. Updates battery topology.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.battery_setup_2">
<span class="sig-name descname"><span class="pre">battery_setup_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.battery_setup_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.battery_setup_2" title="Link to this definition"></a></dt>
<dd><p>Scales up voltage instead of current capacity (Ah), thereby using more cells in series
for the same battery energy rating. pack_max_AH property is set in config and fixed. Voltage is determined
by the pack energy capacity (Watt-hours) and the maximum amp-hour capacity.</p>
<ul class="simple">
<li><p>Capacity (Wh).</p></li>
<li><p>cell_amp_hrs (Ah), cell_voltage (V)</p></li>
</ul>
<p>:param : None.
:return : None. Updates battery topology.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.dynamics">
<span class="sig-name descname"><span class="pre">dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.dynamics" title="Link to this definition"></a></dt>
<dd><p>Propagates the state of the battery forward one step.
It takes as input current load (amperes) from the Battery controller and update the battery power.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>current</strong> (<em>float</em><em> or </em><em>np.float</em><em>(</em><em>)</em><em>.</em>) – Battery cycle current in amperes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Battery response voltage.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.est_calendar_aging">
<span class="sig-name descname"><span class="pre">est_calendar_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.est_calendar_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.est_calendar_aging" title="Link to this definition"></a></dt>
<dd><p>Estimates the constant calendar aging of the battery. this is solely time-dependent.
Deprecate this later for this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Linear calendar aging result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.est_cyc_aging">
<span class="sig-name descname"><span class="pre">est_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.est_cyc_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.est_cyc_aging" title="Link to this definition"></a></dt>
<dd><p>Creates linear battery ageing model per hesse. et. Al, and returns its cvx object.
Deprecate this later for this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>CVXPY objective describing cycle aging function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_OCV">
<span class="sig-name descname"><span class="pre">get_OCV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_OCV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_OCV" title="Link to this definition"></a></dt>
<dd><p>Uses the Open Circuit Voltage (OCV) Map stored within the battery object to any OCV for any state-of-charge
SoC via interpolation.
The OCV-SOC map is obtained a-priori (pre-simulation).</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Open Circuit Voltage (OCV) at battery’s current SoC.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_Ro">
<span class="sig-name descname"><span class="pre">get_Ro</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_Ro"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_Ro" title="Link to this definition"></a></dt>
<dd><p>This can be updated later to include current…
Deprecate this possibly</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_aging_value">
<span class="sig-name descname"><span class="pre">get_aging_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_aging_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_aging_value" title="Link to this definition"></a></dt>
<dd><p>Returns the total capacity life loss the battery has experienced so far.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Estimated cycle + calendar aging of cell/battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_power_profile">
<span class="sig-name descname"><span class="pre">get_power_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">months</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_power_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_power_profile" title="Link to this definition"></a></dt>
<dd><p>Returns the power profile of the battery for a certain number of months.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>months</strong> – Months for which to obtain power profile.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of power profiles for each month in months.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_properties">
<span class="sig-name descname"><span class="pre">get_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_properties" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_roundtrip_efficiency">
<span class="sig-name descname"><span class="pre">get_roundtrip_efficiency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_roundtrip_efficiency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_roundtrip_efficiency" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_total_aging">
<span class="sig-name descname"><span class="pre">get_total_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_total_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_total_aging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.get_true_power">
<span class="sig-name descname"><span class="pre">get_true_power</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.get_true_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.get_true_power" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.save_sim_data">
<span class="sig-name descname"><span class="pre">save_sim_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.save_sim_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.save_sim_data" title="Link to this definition"></a></dt>
<dd><p>Saves all relevant battery data over the given simulation. Usually called from the battery object
upon conclusion of simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_prefix</strong> (<em>str.</em>) – desired folder in which all the files will be saved.</p>
</dd>
</dl>
<p>:return : None, saves output files in the desired folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.save_states">
<span class="sig-name descname"><span class="pre">save_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.save_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.save_states" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.state_eqn">
<span class="sig-name descname"><span class="pre">state_eqn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.state_eqn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.state_eqn" title="Link to this definition"></a></dt>
<dd><p>Contains discretized state equations containing the battery dynamics at the pack-level;
ref here: G. L. Plett, Battery management systems, Volume I: Battery modeling. Artech House, 2015, vol. 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>append</strong> (<em>boolean</em>) – Decides if to track powers within the ::B battery object.</p></li>
<li><p><strong>current</strong> (<em>float</em>) – Current - current in amperes from controller to propagate state forward by one step.
append - defaults to True. This decides tracking of currents and power over time. Desirable for post-
optimization analyses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None; appends current state into the state history vectors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.thermal_dynamics">
<span class="sig-name descname"><span class="pre">thermal_dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.thermal_dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.thermal_dynamics" title="Link to this definition"></a></dt>
<dd><p>Not Implemented yet. Future work.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.track_SOC">
<span class="sig-name descname"><span class="pre">track_SOC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SOC</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.track_SOC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.track_SOC" title="Link to this definition"></a></dt>
<dd><p>Updates the states of charge state Vector of the battery.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>SOC - state of charge. This is a self-called function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.update_SOC">
<span class="sig-name descname"><span class="pre">update_SOC</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.update_SOC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.update_SOC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.update_capacity">
<span class="sig-name descname"><span class="pre">update_capacity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.update_capacity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.update_capacity" title="Link to this definition"></a></dt>
<dd><p>This is not true capacity but anticipated capacity based on linear model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.update_max_current">
<span class="sig-name descname"><span class="pre">update_max_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.update_max_current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.update_max_current" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.update_params">
<span class="sig-name descname"><span class="pre">update_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.update_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.update_params" title="Link to this definition"></a></dt>
<dd><p>This changes the battery params depending on the number of cycles</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.update_voltage">
<span class="sig-name descname"><span class="pre">update_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.update_voltage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.update_voltage" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.battery.Battery.visualize">
<span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#Battery.visualize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.Battery.visualize" title="Link to this definition"></a></dt>
<dd><p>method is used to plot and save battery states desired by user</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.battery.test">
<span class="sig-prename descclassname"><span class="pre">charging_sim.battery.</span></span><span class="sig-name descname"><span class="pre">test</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/battery.html#test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.battery.test" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-charging_sim.batteryAgingSim">
<span id="charging-sim-batteryagingsim-module"></span><h2>charging_sim.batteryAgingSim module<a class="headerlink" href="#module-charging_sim.batteryAgingSim" title="Link to this heading"></a></h2>
<p>This module contains the BatteryAging class. The battery aging objects enact on the battery object and update the
battery capacity and resistance at each simulation time-step.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.batteryAgingSim.</span></span><span class="sig-name descname"><span class="pre">BatteryAging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Current aging model is for LiNiMnCoO2 (NMC) battery cells. More aging models will be added in the future.</p>
<p>Link to Paper: <a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S0378775314001876">https://www.sciencedirect.com/science/article/pii/S0378775314001876</a></p>
<dl class="simple">
<dt>Default Params from paper:</dt><dd><ul class="simple">
<li><p>beta_cap: capacity fade aging factor for cycle aging</p></li>
<li><p>alpha_cap capacity fade aging factor for calendar aging</p></li>
<li><p>beta_res: resistance growth aging factor for cycle aging</p></li>
<li><p>alpha_res: resistance growth aging factor for calendar aging</p></li>
</ul>
</dd>
<dt>Assumptions:</dt><dd><ul class="simple">
<li><p>Homogenous battery with dynamics modelled.</p></li>
<li><p>Uniform aging across all cells.</p></li>
<li><p>Constant temperature profile in vicinity of battery.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.LFP_cal_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LFP_cal_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.LFP_cal_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.LFP_cal_aging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.LFP_cyc_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LFP_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.LFP_cyc_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.LFP_cyc_aging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.NMC_cal_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NMC_cal_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.NMC_cal_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.NMC_cal_aging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.NMC_cyc_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NMC_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.NMC_cyc_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.NMC_cyc_aging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_aging_value">
<span class="sig-name descname"><span class="pre">get_aging_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.get_aging_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_aging_value" title="Link to this definition"></a></dt>
<dd><p>Returns the total capacity fade and resistance growth of the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of total capacity fade and resistance growth of the battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_calendar_aging">
<span class="sig-name descname"><span class="pre">get_calendar_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.get_calendar_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_calendar_aging" title="Link to this definition"></a></dt>
<dd><p>Returns the calendar aging of the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of capacity fade and resistance growth due to calendar aging.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_cyc_aging">
<span class="sig-name descname"><span class="pre">get_cyc_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.get_cyc_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_cyc_aging" title="Link to this definition"></a></dt>
<dd><p>Calculates the resistance growth and capacity fade from cycle aging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – THe batt</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_total_aging">
<span class="sig-name descname"><span class="pre">get_total_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.get_total_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_total_aging" title="Link to this definition"></a></dt>
<dd><p>Returns the total capacity fade of the battery object. This includes both cycle and calendar aging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> (<em>object</em>) – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total calendar + cycle aging of the battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.run" title="Link to this definition"></a></dt>
<dd><p>Runs the aging model for the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.update_capacity">
<span class="sig-name descname"><span class="pre">update_capacity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.update_capacity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.update_capacity" title="Link to this definition"></a></dt>
<dd><p>Updates the capacity of the battery based on the aging model adopted from Schmalsteig Et. Al.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – Battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object capacity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.update_resistance">
<span class="sig-name descname"><span class="pre">update_resistance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batteryAgingSim.html#BatteryAging.update_resistance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.update_resistance" title="Link to this definition"></a></dt>
<dd><p>Updates the resistance of the battery based on the aging model adopted from Schmalsteig Et. Al.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – Battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object resistance.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.batterypack">
<span id="charging-sim-batterypack-module"></span><h2>charging_sim.batterypack module<a class="headerlink" href="#module-charging_sim.batterypack" title="Link to this heading"></a></h2>
<p>This module contains the program for the battery pack class.</p>
<p><strong>Usage</strong></p>
<p>Proper usage is done by the :module:orchestrator.py module.</p>
<p><strong>Example usage</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">battery_config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
   <span class="n">battery_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
   <span class="n">params_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">battery_config</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;params_&quot;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">]</span>
</pre></div>
</div>
<p>Then the battery can be instantiated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">params_key</span> <span class="ow">in</span> <span class="n">params_list</span><span class="p">:</span>
    <span class="c1"># This loads the actual battery parameters from the file in which those parameters are stored, prior to</span>
   <span class="c1"># instantiating Battery().</span>
   <span class="n">battery_config</span><span class="p">[</span><span class="n">params_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">path_prefix</span> <span class="o">+</span> <span class="n">battery_config</span><span class="p">[</span><span class="n">params_key</span><span class="p">])</span>
   <span class="c1"># Instantiate the battery using its constructor.</span>
   <span class="n">buffer_battery</span> <span class="o">=</span> <span class="n">Battery</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">battery_config</span><span class="p">,</span> <span class="n">controller</span><span class="o">=</span><span class="n">controller</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.batterypack.</span></span><span class="sig-name descname"><span class="pre">Battery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Each instantiation of this class must include at least a config file, which contains the physical
constraints and properties of the battery.</p>
<dl class="simple">
<dt>Properties are mainly controlled in the battery config file <cite>battery.json</cite></dt><dd><ul class="simple">
<li><p>max-c-rate - determines the power capacity of the cell as a multiple of the value of the energy capacity.</p></li>
<li><p>max voltage(V) - maximum allowable battery voltage.</p></li>
<li><p>min Voltage (V) - minimum allowable battery voltage.</p></li>
<li><p>nominal energy (kWh) - energy deliverable to the battery.</p></li>
<li><p>id (-).</p></li>
<li><p>Ambient temperature (Celsius).</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>battery_type</strong> – Type of battery (inconsequential to current dynamics).</p></li>
<li><p><strong>node</strong> – The node/bus in the distribution network in which the battery resides.</p></li>
<li><p><strong>config</strong> – Battery configuration file containing the main attributes of the battery.</p></li>
<li><p><strong>controller</strong> – Controller for the battery.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Battery object.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.R_pack">
<span class="sig-name descname"><span class="pre">R_pack</span></span><a class="headerlink" href="#charging_sim.batterypack.Battery.R_pack" title="Link to this definition"></a></dt>
<dd><p>Overall pack resistance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.battery_setup">
<span class="sig-name descname"><span class="pre">battery_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.battery_setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.battery_setup" title="Link to this definition"></a></dt>
<dd><p>This sets up the series-parallel configuration of the cells,
given the capacity and voltage of the battery. Scales up Ah capacity, not voltage. Voltage in this setup is
fixed by the battery json file while the Ah capacity is floating and determined by the given pack voltage and
Energy Capacity.</p>
<ul class="simple">
<li><p>Energy capacity (Wh).</p></li>
<li><p>Voltage (V).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None. Updates battery topology.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.battery_setup_2">
<span class="sig-name descname"><span class="pre">battery_setup_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.battery_setup_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.battery_setup_2" title="Link to this definition"></a></dt>
<dd><p>Scales up voltage instead of current capacity (Ah), thereby using more cells in series
for the same battery energy rating. pack_max_AH property is set in config and fixed. Voltage is determined
by the pack energy capacity (Watt-hours) and the maximum amp-hour capacity.</p>
<ul class="simple">
<li><p>Capacity (Wh).</p></li>
<li><p>cell_amp_hrs (Ah), cell_voltage (V)</p></li>
</ul>
<p>:param : None.
:return : None. Updates battery topology.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.battery_type">
<span class="sig-name descname"><span class="pre">battery_type</span></span><a class="headerlink" href="#charging_sim.batterypack.Battery.battery_type" title="Link to this definition"></a></dt>
<dd><p>Initial value: None.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#charging_sim.batterypack.Battery.config" title="Link to this definition"></a></dt>
<dd><p>Initial value: None.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.controller">
<span class="sig-name descname"><span class="pre">controller</span></span><a class="headerlink" href="#charging_sim.batterypack.Battery.controller" title="Link to this definition"></a></dt>
<dd><p>Initial value: None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.dynamics">
<span class="sig-name descname"><span class="pre">dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.dynamics" title="Link to this definition"></a></dt>
<dd><p>Propagates the state of the battery forward one step.
It takes as input current load (amperes) from the Battery controller and update the battery power.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>current</strong> (<em>float</em><em> or </em><em>np.float</em><em>(</em><em>)</em><em>.</em>) – Battery cycle current in amperes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Battery response voltage.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Float.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.est_calendar_aging">
<span class="sig-name descname"><span class="pre">est_calendar_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.est_calendar_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.est_calendar_aging" title="Link to this definition"></a></dt>
<dd><p>Estimates the constant calendar aging of the battery. this is solely time-dependent.
Deprecate this later for this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Return sum(aging_cal)<span class="colon">:</span></dt>
<dd class="field-even"><p>Linear aging result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.est_cyc_aging">
<span class="sig-name descname"><span class="pre">est_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.est_cyc_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.est_cyc_aging" title="Link to this definition"></a></dt>
<dd><p>Creates linear battery ageing model per hesse. et. Al, and returns its cvx object.
Deprecate this later for this object.</p>
<p>:param : None.
:return cycle aging: CVXPY objective describing cycle aging function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_OCV">
<span class="sig-name descname"><span class="pre">get_OCV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_OCV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_OCV" title="Link to this definition"></a></dt>
<dd><p>Uses the Open Circuit Voltage (OCV) Map stored within the battery object to any OCV for any state-of-charge
SoC via interpolation.
The OCV-SOC map is obtained a-priori (pre-simulation).</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Open Circuit Voltage (OCV) at battery’s current SoC.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_aging_value">
<span class="sig-name descname"><span class="pre">get_aging_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_aging_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_aging_value" title="Link to this definition"></a></dt>
<dd><p>Returns the actual aging value lost after a cvxpy run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Cycle aging + Calendar aging.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_power_profile">
<span class="sig-name descname"><span class="pre">get_power_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">months</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_power_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_power_profile" title="Link to this definition"></a></dt>
<dd><p>Returns the power profile of the battery for a certain number of months.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>months</strong> – Months for which to obtain power profile.</p>
</dd>
</dl>
<p>Returns: Dictionary of power profiles for each month in months.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_roundtrip_efficiency">
<span class="sig-name descname"><span class="pre">get_roundtrip_efficiency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_roundtrip_efficiency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_roundtrip_efficiency" title="Link to this definition"></a></dt>
<dd><p>Returns the estimated round-trip efficiency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns boolean<span class="colon">:</span></dt>
<dd class="field-odd"><p>self._eff</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_total_aging">
<span class="sig-name descname"><span class="pre">get_total_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_total_aging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_total_aging" title="Link to this definition"></a></dt>
<dd><p>Returns the total capacity life loss the battery has experienced so far.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Estimated cycle + calendar aging of cell/battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.get_true_power">
<span class="sig-name descname"><span class="pre">get_true_power</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.get_true_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.get_true_power" title="Link to this definition"></a></dt>
<dd><p>Returns the power in or out of the battery.</p>
<p>:param : None.
:return : Last power output of battery object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.load_pack_props">
<span class="sig-name descname"><span class="pre">load_pack_props</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.load_pack_props"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.load_pack_props" title="Link to this definition"></a></dt>
<dd><p>Updates all properties from cell to pack level using.
Method used in ref Balogun Et. Al <a class="reference external" href="http://dx.doi.org/10.36227/techrxiv.23596725.v2">http://dx.doi.org/10.36227/techrxiv.23596725.v2</a> .
Uses initial properties/states to update from cell into pack properties for simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.nominal_pack_cap">
<span class="sig-name descname"><span class="pre">nominal_pack_cap</span></span><a class="headerlink" href="#charging_sim.batterypack.Battery.nominal_pack_cap" title="Link to this definition"></a></dt>
<dd><p>This will be set in :py:meth:battery_setup.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.save_sim_data">
<span class="sig-name descname"><span class="pre">save_sim_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.save_sim_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.save_sim_data" title="Link to this definition"></a></dt>
<dd><p>Saves all relevant battery data over the given simulation. Usually called from the battery object
upon conclusion of simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_prefix</strong> (<em>str.</em>) – desired folder in which all the files will be saved.</p>
</dd>
</dl>
<p>:return : None, saves output files in the desired folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.state_eqn">
<span class="sig-name descname"><span class="pre">state_eqn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.state_eqn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.state_eqn" title="Link to this definition"></a></dt>
<dd><p>Contains discretized state equations containing the battery dynamics at the pack-level;
ref here: G. L. Plett, Battery management systems, Volume I: Battery modeling. Artech House, 2015, vol. 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>append</strong> (<em>boolean</em>) – Decides if to track powers within the ::B battery object.</p></li>
<li><p><strong>current</strong> (<em>float</em>) – Current - current in amperes from controller to propagate state forward by one step.
append - defaults to True. This decides tracking of currents and power over time. Desirable for post-
optimization analyses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None; appends current state into the state history vectors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.thermal_dynamics">
<span class="sig-name descname"><span class="pre">thermal_dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.thermal_dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.thermal_dynamics" title="Link to this definition"></a></dt>
<dd><p>This models the battery’s thermal state. Updates internal and surface temperature of the battery.
Not available in this version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.track_SOC">
<span class="sig-name descname"><span class="pre">track_SOC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SOC</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.track_SOC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.track_SOC" title="Link to this definition"></a></dt>
<dd><p>Updates the states of charge state Vector of the battery.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>SOC - state of charge. This is a self-called function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.update_capacity">
<span class="sig-name descname"><span class="pre">update_capacity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.update_capacity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.update_capacity" title="Link to this definition"></a></dt>
<dd><p>This is not true capacity but anticipated capacity based on linear model.
This will be deferred to controller. TO BE DEPRECATED.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.update_max_current">
<span class="sig-name descname"><span class="pre">update_max_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.update_max_current"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.update_max_current" title="Link to this definition"></a></dt>
<dd><p>Update the max allowable current of the battery - to be deprecated as it is not needed anymore.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.update_voltage">
<span class="sig-name descname"><span class="pre">update_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.update_voltage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.update_voltage" title="Link to this definition"></a></dt>
<dd><p>TO BE DEPRECATED.
Updates the battery voltage, given the predicted voltage from controller.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batterypack.Battery.visualize">
<span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#Battery.visualize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.Battery.visualize" title="Link to this definition"></a></dt>
<dd><p>TO BE DEPRECATED.
Plots visualizations and save battery states desired by user.</p>
<dl class="field-list simple">
<dt class="field-odd">Param<span class="colon">:</span></dt>
<dd class="field-odd"><p>option - only uses one option right now.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.batterypack.test">
<span class="sig-prename descclassname"><span class="pre">charging_sim.batterypack.</span></span><span class="sig-name descname"><span class="pre">test</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/batterypack.html#test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.batterypack.test" title="Link to this definition"></a></dt>
<dd><p>This is used to test the battery class module to ensure desired behavior is respected.
Saves relevant plots for visual inspection at the end of the simulated test</p>
</dd></dl>

</section>
<section id="charging-sim-batterytest-module">
<h2>charging_sim.batterytest module<a class="headerlink" href="#charging-sim-batterytest-module" title="Link to this heading"></a></h2>
</section>
<section id="module-charging_sim.capacitor">
<span id="charging-sim-capacitor-module"></span><h2>charging_sim.capacitor module<a class="headerlink" href="#module-charging_sim.capacitor" title="Link to this heading"></a></h2>
<p>This file hosts the class for capacitors. Future work</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.capacitor.Capacitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.capacitor.</span></span><span class="sig-name descname"><span class="pre">Capacitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/capacitor.html#Capacitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.capacitor.Capacitor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="module-charging_sim.chargingStation">
<span id="charging-sim-chargingstation-module"></span><h2>charging_sim.chargingStation module<a class="headerlink" href="#module-charging_sim.chargingStation" title="Link to this heading"></a></h2>
<p>Hosts the Charging Station class.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.chargingStation.</span></span><span class="sig-name descname"><span class="pre">ChargingStation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'idle'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The charging station class produces a load with a power factor parameter that determines its reactive
load contribution, if any. It also retains all information of all power injection at its grid node/bus.
It is initialized with its location, capacity, etc. This class ingests the battery, solar and controller modules
to which it is assigned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>storage</strong> (<em>object</em>) – Storage object assigned to the charging station.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – </p></li>
<li><p><strong>controller</strong> (<em>object</em>) – Charging station controller object.</p></li>
<li><p><strong>solar</strong> (<em>object</em>) – Charging station solar object. Default is None.</p></li>
<li><p><strong>status</strong> (<em>str</em>) – Charging station status. Default ‘idle’.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.get_current_load">
<span class="sig-name descname"><span class="pre">get_current_load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.get_current_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.get_current_load" title="Link to this definition"></a></dt>
<dd><p>Returns the current load of the charging station.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current load (kW) of the charging station.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.is_EV_arrived">
<span class="sig-name descname"><span class="pre">is_EV_arrived</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.is_EV_arrived"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.is_EV_arrived" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.is_charging">
<span class="sig-name descname"><span class="pre">is_charging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.is_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.is_charging" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.save_sim_data">
<span class="sig-name descname"><span class="pre">save_sim_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.save_sim_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.save_sim_data" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_prefix</strong> – Path string to save the data from simulation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.set_current_load">
<span class="sig-name descname"><span class="pre">set_current_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.set_current_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.set_current_load" title="Link to this definition"></a></dt>
<dd><p>Sets the current load of the charging station.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>load</strong> – Load in kW.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.update_load">
<span class="sig-name descname"><span class="pre">update_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_grid_load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ev_load</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.update_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.update_load" title="Link to this definition"></a></dt>
<dd><p>Updates the charging station loads, including DER assets. MPC mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_grid_load</strong> – Net load charging station pulls from the grid.</p></li>
<li><p><strong>ev_load</strong> – Electric Vehicle charging demand.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.update_load_oneshot">
<span class="sig-name descname"><span class="pre">update_load_oneshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_grid_load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ev_load</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.update_load_oneshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.update_load_oneshot" title="Link to this definition"></a></dt>
<dd><p>Updates the charging station loads, including DER assets. Offline mode (Non-MPC).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_grid_load</strong> – Net load charging station pulls from the grid.</p></li>
<li><p><strong>ev_load</strong> – Electric Vehicle charging demand.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.update_status">
<span class="sig-name descname"><span class="pre">update_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.update_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.update_status" title="Link to this definition"></a></dt>
<dd><p>Updates the current status of the EV charging station.
:return: None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.chargingStation.ChargingStation.visualize">
<span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/chargingStation.html#ChargingStation.visualize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.chargingStation.ChargingStation.visualize" title="Link to this definition"></a></dt>
<dd><p>Visualizing charging station states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>option</strong> – plotting option.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.controller">
<span id="charging-sim-controller-module"></span><h2>charging_sim.controller module<a class="headerlink" href="#module-charging_sim.controller" title="Link to this heading"></a></h2>
<p>This file contains the controller classes used for DER optimization and control within EV-Ecosim</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.controller.MPC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.controller.</span></span><span class="sig-name descname"><span class="pre">MPC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class uses an MPC control scheme for producing control currents to the BESS.</p>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.MPC.compute_control">
<span class="sig-name descname"><span class="pre">compute_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC.compute_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC.compute_control" title="Link to this definition"></a></dt>
<dd><p>Optimization-based control actions are computed and passed to the battery.
Inputs: load - This is the power demand from the charging station.</p>
<blockquote>
<div><p>price_vector - This is usually the time of use (TOU) rate of the charging station.</p>
</div></blockquote>
<p>Returns: control_action - Current signals to control the DER system for arbitrage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.MPC.get_battery_constraints">
<span class="sig-name descname"><span class="pre">get_battery_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ev_load</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC.get_battery_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC.get_battery_constraints" title="Link to this definition"></a></dt>
<dd><p>Creates and updates the battery constraints required to be satisfied by the controller.
Inputs: ev_load - This is the power demand from the charging station.
Returns: storage_constraints - List of battery constraints to be respected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.MPC.initialize_forecast_data">
<span class="sig-name descname"><span class="pre">initialize_forecast_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC.initialize_forecast_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC.initialize_forecast_data" title="Link to this definition"></a></dt>
<dd><p>loads history to be used for forecasting EV charging</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.MPC.load_battery_ocv">
<span class="sig-name descname"><span class="pre">load_battery_ocv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC.load_battery_ocv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC.load_battery_ocv" title="Link to this definition"></a></dt>
<dd><p>Learns the battery OCV Parameters from data and sets the relevant class attribute.
Inputs - None.
Returns - None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.MPC.reset_load">
<span class="sig-name descname"><span class="pre">reset_load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#MPC.reset_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.MPC.reset_load" title="Link to this definition"></a></dt>
<dd><p>This is done after one full day is done.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.controller.Oneshot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.controller.</span></span><span class="sig-name descname"><span class="pre">Oneshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">96</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#Oneshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.Oneshot" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class uses an offline control scheme for producing control currents to the BESS.
This is non-MPC and cannot use state feedback in control simulation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.Oneshot.compute_control">
<span class="sig-name descname"><span class="pre">compute_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#Oneshot.compute_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.Oneshot.compute_control" title="Link to this definition"></a></dt>
<dd><p>Optimization-based control actions are computed and passed to the battery.
Inputs: load - This is the power demand from the charging station.</p>
<blockquote>
<div><p>price_vector - This is usually the time of use (TOU) rate of the charging station.</p>
</div></blockquote>
<p>Returns: control_action - Current signals to control the DER system for arbitrage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.Oneshot.get_battery_constraints">
<span class="sig-name descname"><span class="pre">get_battery_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ev_load</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#Oneshot.get_battery_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.Oneshot.get_battery_constraints" title="Link to this definition"></a></dt>
<dd><p>Creates and updates the battery constraints required to be satisfied by the controller.
Inputs: ev_load - This is the power demand from the charging station.
Returns: storage_constraints - List of battery constraints to be respected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.Oneshot.load_battery_ocv">
<span class="sig-name descname"><span class="pre">load_battery_ocv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#Oneshot.load_battery_ocv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.Oneshot.load_battery_ocv" title="Link to this definition"></a></dt>
<dd><p>Learns the battery OCV Parameters from data and sets the relevant class attribute.
Inputs - None.
Returns - None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.controller.Oneshot.reset_load">
<span class="sig-name descname"><span class="pre">reset_load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/controller.html#Oneshot.reset_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.controller.Oneshot.reset_load" title="Link to this definition"></a></dt>
<dd><p>This is done after one full day is done.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.electricityPrices">
<span id="charging-sim-electricityprices-module"></span><h2>charging_sim.electricityPrices module<a class="headerlink" href="#module-charging_sim.electricityPrices" title="Link to this heading"></a></h2>
<p>This module contains the class that loads the electricity price data and structure used for sampling prices during
simulation.</p>
<p>Based on the prices.json config file, this module will load the desired price TOU rate file that will be used in
optimization problem. The default is the PGE_BEV2_S rate file, which is valid for California, however users can load
their own TOU rate file. The prices are loaded into a numpy array and can be sampled from during simulation.
The prices are sampled based on the month of the year and the hour of the day.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.electricityPrices.</span></span><span class="sig-name descname"><span class="pre">PriceLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/electricityPrices.html#PriceLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class pre-loads prices and is used to sample prices that are used for optimization of EVSE profits/costs
during charging simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – Configuration dictionary for the price loader.</p></li>
<li><p><strong>path_prefix</strong> – This string path prefix is obtained first based on your repository location to set the</p></li>
</ul>
</dd>
</dl>
<p>correct path for obtaining the data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.downscale">
<span class="sig-name descname"><span class="pre">downscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_res</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/electricityPrices.html#PriceLoader.downscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.downscale" title="Link to this definition"></a></dt>
<dd><p>Downscales the price data into a finer resolution, similar to the downscaling method in Pandas.
Typically only used once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_res</strong> – Resolution of the input data.</p></li>
<li><p><strong>output_res</strong> – Resolution of the output data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Saves output data to a csv file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.get_prices">
<span class="sig-name descname"><span class="pre">get_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/electricityPrices.html#PriceLoader.get_prices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.get_prices" title="Link to this definition"></a></dt>
<dd><p>Returns time-of-use (TOU) rate prices from data. This assumes TOU rates do not change day-to-day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_idx</strong> (<em>int</em>) – Starting index from which to price vector will start.</p></li>
<li><p><strong>num_steps</strong> (<em>int</em>) – Cardinality of the price vector being returned.</p></li>
<li><p><strong>month</strong> (<em>int</em>) – Month for which the price vector will be obtained (for example, 1 - Jan, 12 - December).</p></li>
</ul>
</dd>
<dt class="field-even">Return ndarray price_vector<span class="colon">:</span></dt>
<dd class="field-even"><p>The TOU price vector, which is a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.set_month_data">
<span class="sig-name descname"><span class="pre">set_month_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">month</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/electricityPrices.html#PriceLoader.set_month_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.set_month_data" title="Link to this definition"></a></dt>
<dd><p>Sets the month for which the prices will be obtained.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>month</strong> – Month to set the data to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.main">
<span class="sig-prename descclassname"><span class="pre">charging_sim.electricityPrices.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/electricityPrices.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.electricityPrices.main" title="Link to this definition"></a></dt>
<dd><p>This is only run to generate new downscaled data or for testing.</p>
</dd></dl>

</section>
<section id="module-charging_sim.optimization">
<span id="charging-sim-optimization-module"></span><h2>charging_sim.optimization module<a class="headerlink" href="#module-charging_sim.optimization" title="Link to this heading"></a></h2>
<p>Contains the Optimization class, which is used by controller to solve the optimization problem.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.optimization.</span></span><span class="sig-name descname"><span class="pre">Optimization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objective_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power_demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GUROBI'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Constructor for the overall optimization problem solved by the optimization-based controller.</p>
<ul class="simple">
<li><p>Designed to include future cost functions such as transformer degradation and battery aging.</p></li>
<li><p>Limited to convex and Mixed Integer programs, depending on the selected solver.</p></li>
<li><p>Note, each desired solver must be installed separately on user’s PC for a successful run.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objective_type</strong> – Type of objective problem being optimized.</p></li>
<li><p><strong>objective</strong> – CVXPY objective function object.</p></li>
<li><p><strong>controller</strong> – Controller object.</p></li>
<li><p><strong>power_demand</strong> – Power demand at the Charging Station.</p></li>
<li><p><strong>time_res</strong> – Time resolution of problem data.</p></li>
<li><p><strong>transformer</strong> – Transformer object (optional, not implemented yet).</p></li>
<li><p><strong>battery</strong> – Battery object.</p></li>
<li><p><strong>time</strong> – Time Counter.</p></li>
<li><p><strong>name</strong> – Optimization identifier.</p></li>
<li><p><strong>solar</strong> – Solar Object.</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – Available backend solver to invoke (ECOS, MOSEK, GUROBI, etc.).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.add_demand_charge">
<span class="sig-name descname"><span class="pre">add_demand_charge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charge</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.add_demand_charge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.add_demand_charge" title="Link to this definition"></a></dt>
<dd><p>Including demand charge in the objective function (Deprecated).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>charge</strong> – Demand charge ($/kW).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.aggregate_constraints">
<span class="sig-name descname"><span class="pre">aggregate_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.aggregate_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.aggregate_constraints" title="Link to this definition"></a></dt>
<dd><p>Aggregates all the constraints into one constraint list within the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_battery_cost">
<span class="sig-name descname"><span class="pre">build_battery_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.build_battery_cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.build_battery_cost" title="Link to this definition"></a></dt>
<dd><p>Build battery cost (to be implemented in future version).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_emissions_cost">
<span class="sig-name descname"><span class="pre">build_emissions_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.build_emissions_cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.build_emissions_cost" title="Link to this definition"></a></dt>
<dd><p>Builds emission cost to be included in the objective function (future work).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_transformer_cost">
<span class="sig-name descname"><span class="pre">build_transformer_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.build_transformer_cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.build_transformer_cost" title="Link to this definition"></a></dt>
<dd><p>Build Transformer cost (to be implemented in future version).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.get_battery_constraint">
<span class="sig-name descname"><span class="pre">get_battery_constraint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.get_battery_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.get_battery_constraint" title="Link to this definition"></a></dt>
<dd><p>Returns the list of battery constraints within the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Battery constraints.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.get_constraints">
<span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.get_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.get_constraints" title="Link to this definition"></a></dt>
<dd><p>Returns the constraints list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all constraints within the problem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/optimization.html#Optimization.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.optimization.Optimization.run" title="Link to this definition"></a></dt>
<dd><p>Runs an instance of the optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Return float<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optimal objective value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.orchestrator">
<span id="charging-sim-orchestrator-module"></span><h2>charging_sim.orchestrator module<a class="headerlink" href="#module-charging_sim.orchestrator" title="Link to this heading"></a></h2>
<p>This module hosts the <cite>ChargingSim</cite> class, in charge of orchestrating the entire simulation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.orchestrator.</span></span><span class="sig-name descname"><span class="pre">ChargingSim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_charging_sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_evs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_ev_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_ev_data_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_solar_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_solar_data_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class organizes the simulation and controls the propagation of other objects’ states in a time
sequential manner. It is in charge of orchestrating in both MPC or oneshot (offline) modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_charging_sites</strong> – Number of charging nodes within the secondary distribution network.</p></li>
<li><p><strong>solar</strong> (<em>bool</em>) – If the charging sites have solar PV or not.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – Time resolution of the simulation.</p></li>
<li><p><strong>path_prefix</strong> (<em>str</em>) – Path string that helps ensure simulation can access proper folders within OS file organization.</p></li>
<li><p><strong>num_steps</strong> (<em>int</em>) – Number of steps per day. Default is 96 for 15 minute time resolution.</p></li>
<li><p><strong>month</strong> (<em>int</em>) – The month for which the simulation is run.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.create_battery_object">
<span class="sig-name descname"><span class="pre">create_battery_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.create_battery_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.create_battery_object" title="Link to this definition"></a></dt>
<dd><p>Creates and stores all battery modules/objects in the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – Battery identification index.</p></li>
<li><p><strong>node_prop</strong> – Dictionary of Node properties; includes location, node type (L2 or DCFC).</p></li>
<li><p><strong>controller</strong> – Controller assigned to the battery object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Battery object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.create_charging_stations">
<span class="sig-name descname"><span class="pre">create_charging_stations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power_nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.create_charging_stations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.create_charging_stations" title="Link to this definition"></a></dt>
<dd><p>Creates the charging station objects within the power network (MPC mode).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>power_nodes</strong> (<em>list</em>) – List of buses/nodes which can host charging stations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.create_charging_stations_oneshot">
<span class="sig-name descname"><span class="pre">create_charging_stations_oneshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power_nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.create_charging_stations_oneshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.create_charging_stations_oneshot" title="Link to this definition"></a></dt>
<dd><p>Creates the charging station objects within the power network (offline mode).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>power_nodes</strong> (<em>list</em>) – List of buses/nodes which can host charging stations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.create_solar_object">
<span class="sig-name descname"><span class="pre">create_solar_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.create_solar_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.create_solar_object" title="Link to this definition"></a></dt>
<dd><p>Creates a solar object using the solar class charging_sim.solar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> (<em>int</em>) – Solar object identifier.</p></li>
<li><p><strong>loc</strong> – Location of solar object within the grid.</p></li>
<li><p><strong>controller</strong> – Controller object of solar system.</p></li>
</ul>
</dd>
<dt class="field-even">Return object<span class="colon">:</span></dt>
<dd class="field-even"><p>Solar object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.get_action">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.get_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.get_action" title="Link to this definition"></a></dt>
<dd><p>Returns only the control current.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.get_charger_obj_by_loc">
<span class="sig-name descname"><span class="pre">get_charger_obj_by_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.get_charger_obj_by_loc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.get_charger_obj_by_loc" title="Link to this definition"></a></dt>
<dd><p>Returns the charging station object at given location ‘loc’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>loc</strong> (<em>str</em>) – Location of charging station.</p>
</dd>
<dt class="field-even">Return object<span class="colon">:</span></dt>
<dd class="field-even"><p>Charging station object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.get_charging_sites">
<span class="sig-name descname"><span class="pre">get_charging_sites</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.get_charging_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.get_charging_sites" title="Link to this definition"></a></dt>
<dd><p>Returns the charging station locations within the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Charging station locations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.initialize_aging_sim">
<span class="sig-name descname"><span class="pre">initialize_aging_sim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.initialize_aging_sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.initialize_aging_sim" title="Link to this definition"></a></dt>
<dd><p>Initialize the battery aging object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.initialize_controllers">
<span class="sig-name descname"><span class="pre">initialize_controllers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.initialize_controllers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.initialize_controllers" title="Link to this definition"></a></dt>
<dd><p>Assign charging controller to each EVSE.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.initialize_price_loader">
<span class="sig-name descname"><span class="pre">initialize_price_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">month</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.initialize_price_loader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.initialize_price_loader" title="Link to this definition"></a></dt>
<dd><p>Loads the price loading module and sets the month to be simulated for memory-efficient sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>month</strong> (<em>int</em>) – Month to be simulated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.initialize_solar_module">
<span class="sig-name descname"><span class="pre">initialize_solar_module</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.initialize_solar_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.initialize_solar_module" title="Link to this definition"></a></dt>
<dd><p>Initializes the solar module if solar options is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.load_battery_params">
<span class="sig-name descname"><span class="pre">load_battery_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.load_battery_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.load_battery_params" title="Link to this definition"></a></dt>
<dd><p>This loads the battery params directly into the sim, so parameters will be the same for all
batteries unless otherwise specified. battery_config must be attributed to do this.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.load_config">
<span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.load_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.load_config" title="Link to this definition"></a></dt>
<dd><p>Loads all object configuration files and set the config attribute within the class. Walks through
the os files, finds the config JSON files, and loads them as the attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.load_results_summary">
<span class="sig-name descname"><span class="pre">load_results_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_path_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.load_results_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.load_results_summary" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path_prefix</strong> – Includes prefix to desired path for saving results.</p></li>
<li><p><strong>plot</strong> (<em>boolean</em>) – Decides if some results are plotted or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.multistep">
<span class="sig-name descname"><span class="pre">multistep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.multistep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.multistep" title="Link to this definition"></a></dt>
<dd><p>This is used oneshot offline simulation for any given month. It is much faster than the MPC mode and it used to
propagate the states of all objects through the simulation horizon.</p>
<p>This assumes perfect load foresight, doing daily propagation for Charging Station sequentially within the power
grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.reset_loads">
<span class="sig-name descname"><span class="pre">reset_loads</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.reset_loads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.reset_loads" title="Link to this definition"></a></dt>
<dd><p>Resets the loads at the different buses being tracked.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power_nodes_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.setup" title="Link to this definition"></a></dt>
<dd><p>This is done pre-simulation to ensure all scenarios are updated accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>power_nodes_list</strong> (<em>list</em>) – List of buses for which EVSE exists.</p></li>
<li><p><strong>scenario</strong> – Contains specifications for the scenario, such as battery capacity, c-rate, solar, etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stepsize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.step" title="Link to this definition"></a></dt>
<dd><p>This assumes perfect load foresight, doing daily propagation for Charging Station sequentially within the power
grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stepsize</strong> (<em>int</em>) – Number of steps to take.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.update_scenario">
<span class="sig-name descname"><span class="pre">update_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.update_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.update_scenario" title="Link to this definition"></a></dt>
<dd><p>Updates the scenarios dicts to match specifications of a given scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scenario</strong> – The scenario dict to be modified, if given.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.orchestrator.ChargingSim.update_steps">
<span class="sig-name descname"><span class="pre">update_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/orchestrator.html#ChargingSim.update_steps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.orchestrator.ChargingSim.update_steps" title="Link to this definition"></a></dt>
<dd><p>Updates for moving simulation forward.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> (<em>int</em>) – Number of steps to move forward.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.simulate">
<span id="charging-sim-simulate-module"></span><h2>charging_sim.simulate module<a class="headerlink" href="#module-charging_sim.simulate" title="Link to this heading"></a></h2>
<p>This module runs the optimization offline without the power system or battery state feedback for each time-step.
This is done to save time. Once this is done, one can study the effects on the power system. Power system states are
propagated post optimization to fully characterize what would have occurred if in-situ optimization was done.</p>
<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.simulate.make_scenarios">
<span class="sig-prename descclassname"><span class="pre">charging_sim.simulate.</span></span><span class="sig-name descname"><span class="pre">make_scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/simulate.html#make_scenarios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.simulate.make_scenarios" title="Link to this definition"></a></dt>
<dd><p>This is used to make the list of scenarios (dicts) that are used to run the simulations.
No inputs. However, it uses preloaded global functions from a <cite>config.txt</cite> file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.simulate.run">
<span class="sig-prename descclassname"><span class="pre">charging_sim.simulate.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/simulate.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.simulate.run" title="Link to this definition"></a></dt>
<dd><p>Runs a scenario and updates the scenario JSON to reflect main properties of that scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scenario</strong> – The scenario dictionary that would be run.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Runs the <cite>scenario</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.simulate.run_scenario_single">
<span class="sig-prename descclassname"><span class="pre">charging_sim.simulate.</span></span><span class="sig-name descname"><span class="pre">run_scenario_single</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/simulate.html#run_scenario_single"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.simulate.run_scenario_single" title="Link to this definition"></a></dt>
<dd><p>Runs a single scenario dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.simulate.run_scenarios_parallel">
<span class="sig-prename descclassname"><span class="pre">charging_sim.simulate.</span></span><span class="sig-name descname"><span class="pre">run_scenarios_parallel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/simulate.html#run_scenarios_parallel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.simulate.run_scenarios_parallel" title="Link to this definition"></a></dt>
<dd><p>Runs the scenarios in parallel using the <cite>multiprocessing</cite> library. User should have enough cores and RAM,
otherwise, this may lead to entire process freezing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.simulate.run_scenarios_sequential">
<span class="sig-prename descclassname"><span class="pre">charging_sim.simulate.</span></span><span class="sig-name descname"><span class="pre">run_scenarios_sequential</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/simulate.html#run_scenarios_sequential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.simulate.run_scenarios_sequential" title="Link to this definition"></a></dt>
<dd><p>Creates scenarios based on the energy and c-rate lists/vectors and runs each of the scenarios,
which is a combination of all the capacities and c-rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-charging_sim.solar">
<span id="charging-sim-solar-module"></span><h2>charging_sim.solar module<a class="headerlink" href="#module-charging_sim.solar" title="Link to this heading"></a></h2>
<p>This module contains the Solar class. The solar class is used to simulate the solar power generation at a given site
by sampling Global Horizontal Irradiance (GHI) data from the dataset of the desired location.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.solar.Solar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.solar.</span></span><span class="sig-name descname"><span class="pre">Solar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is used to simulate the solar power generation at a given site by sampling Global Horizontal Irradiance
and estimating the solar generation, given the solar nameplate capacity that can be modified it its configuration
file <cite>solar.json</cite>. It also contains the optimization variables for the solar system.</p>
<p>The solar power generation is estimated using the following equation:</p>
<div class="math notranslate nohighlight">
\[P_{solar} = \min(P_{rated}, \eta *  A * GHI).\]</div>
<p>Where <span class="math notranslate nohighlight">\(P_{solar}\)</span> is the solar power generation, <span class="math notranslate nohighlight">\(\eta\)</span> is the efficiency of the solar system,
<span class="math notranslate nohighlight">\(P_{rated}\)</span> is the solar nameplate capacity, <span class="math notranslate nohighlight">\(A\)</span> is the area of the solar panels, and <span class="math notranslate nohighlight">\(GHI\)</span> is
the Global Horizontal Irradiance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – Solar configuration dictionary.</p></li>
<li><p><strong>path_prefix</strong> – This string path prefix is obtained first based on your repository location to set the right path.</p></li>
<li><p><strong>controller</strong> – Controller object for making decisions on flow of power from energy devices.</p></li>
<li><p><strong>num_steps</strong> – Number of steps in the simulation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.downscale">
<span class="sig-name descname"><span class="pre">downscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_res</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.downscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.downscale" title="Link to this definition"></a></dt>
<dd><p>This is used only to initially downscale data to desired resolution</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_constraints">
<span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.get_constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.get_constraints" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_power">
<span class="sig-name descname"><span class="pre">get_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(96,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.get_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.get_power" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_solar_output">
<span class="sig-name descname"><span class="pre">get_solar_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.get_solar_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.get_solar_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.modify_res">
<span class="sig-name descname"><span class="pre">modify_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_res</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.modify_res"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.modify_res" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.update_history">
<span class="sig-name descname"><span class="pre">update_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#Solar.update_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.Solar.update_history" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.solar.main">
<span class="sig-prename descclassname"><span class="pre">charging_sim.solar.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/solar.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.solar.main" title="Link to this definition"></a></dt>
<dd><p>THis is mainly to testing or generating new data purposes</p>
</dd></dl>

</section>
<section id="module-charging_sim.utils">
<span id="charging-sim-utils-module"></span><h2>charging_sim.utils module<a class="headerlink" href="#module-charging_sim.utils" title="Link to this heading"></a></h2>
<p>Maybe stores general configurations and general functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.PGE_BEV2_S">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">PGE_BEV2_S</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#PGE_BEV2_S"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.PGE_BEV2_S" title="Link to this definition"></a></dt>
<dd><p>Price schedule/TOU rate for PGE EVSE doc can be found here:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.add_power_profile_to_object">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">add_power_profile_to_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_power_profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#add_power_profile_to_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.add_power_profile_to_object" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_cost_PGE_BEV2S">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_cost_PGE_BEV2S</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices_TOU</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalize_max_power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_power_pen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#build_cost_PGE_BEV2S"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.build_cost_PGE_BEV2S" title="Link to this definition"></a></dt>
<dd><p>This will need to use a heuristic and take the average conservative estimate for gamma</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_electricity_cost">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_electricity_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices_TOU</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand_charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#build_electricity_cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.build_electricity_cost" title="Link to this definition"></a></dt>
<dd><p>Need to update from home load right now; maybe this can be useful in future opt.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_objective">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">electricity_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_degradation_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer_cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#build_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.build_objective" title="Link to this definition"></a></dt>
<dd><p>Builds the objective function that we will minimize.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.load_prices">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">load_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_intervals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/charging_sim/utils.html#load_prices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#charging_sim.utils.load_prices" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-charging_sim">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-charging_sim" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="batt_sys_identification.html" class="btn btn-neutral float-left" title="Battery System Identification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="test_cases.html" class="btn btn-neutral float-right" title="Test cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Emmanuel Balogun, Stanford University S3L Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Charging Sim &mdash; EV-EcoSim 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Battery System Identification" href="batt_sys_identification.html" />
    <link rel="prev" title="Packages" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            EV-EcoSim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction/welcome.html">Introduction</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme/README.html">Readme</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/tutorial.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Packages</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Charging Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim">Module contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#battery-module">Battery module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.batteryAgingSim">Battery Aging Sim module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#battery-pack-module">Battery pack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.capacitor">Capacitor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#charging-station-module">Charging Station module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.clock">Clock module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controller-module">Controller module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.electricityPrices">Electricity prices module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.node">Node module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.optimization">Optimization module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orchestrator-module">Orchestrator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulate-module">Simulate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.solar">Solar module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.transformer">Transformer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-charging_sim.utils">Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="batt_sys_identification.html">Battery System Identification</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_cases.html">Test cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis.html">Post-simulation Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">App - runs the platform</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EV-EcoSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Packages</a></li>
      <li class="breadcrumb-item active">Charging Sim</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="charging-sim">
<h1>Charging Sim<a class="headerlink" href="#charging-sim" title="Permalink to this heading"></a></h1>
<section id="module-charging_sim">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-charging_sim" title="Permalink to this heading"></a></h2>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="battery-module">
<h2>Battery module<a class="headerlink" href="#battery-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-charging_sim.batteryAgingSim">
<span id="battery-aging-sim-module"></span><h2>Battery Aging Sim module<a class="headerlink" href="#module-charging_sim.batteryAgingSim" title="Permalink to this heading"></a></h2>
<p>This module contains the BatteryAging class. The battery aging objects enact on the battery object and update the
battery capacity and resistance at each simulation time-step.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.batteryAgingSim.</span></span><span class="sig-name descname"><span class="pre">BatteryAging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Current aging model is for LiNiMnCoO2 (NMC) battery cells. More aging models will be added in the future.</p>
<p>Link to Paper: <a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S0378775314001876">https://www.sciencedirect.com/science/article/pii/S0378775314001876</a></p>
<dl class="simple">
<dt>Default Params from paper:</dt><dd><ul class="simple">
<li><p>beta_cap: capacity fade aging factor for cycle aging</p></li>
<li><p>alpha_cap capacity fade aging factor for calendar aging</p></li>
<li><p>beta_res: resistance growth aging factor for cycle aging</p></li>
<li><p>alpha_res: resistance growth aging factor for calendar aging</p></li>
</ul>
</dd>
<dt>Assumptions:</dt><dd><ul class="simple">
<li><p>Homogenous battery with dynamics modelled.</p></li>
<li><p>Uniform aging across all cells.</p></li>
<li><p>Constant temperature profile in vicinity of battery.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.LFP_cal_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LFP_cal_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.LFP_cal_aging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.LFP_cyc_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LFP_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.LFP_cyc_aging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.NMC_cal_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NMC_cal_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.NMC_cal_aging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.NMC_cyc_aging">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NMC_cyc_aging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.NMC_cyc_aging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_aging_value">
<span class="sig-name descname"><span class="pre">get_aging_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_aging_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total capacity fade and resistance growth of the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of total capacity fade and resistance growth of the battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_calendar_aging">
<span class="sig-name descname"><span class="pre">get_calendar_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_calendar_aging" title="Permalink to this definition"></a></dt>
<dd><p>Returns the calendar aging of the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of capacity fade and resistance growth due to calendar aging.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_cyc_aging">
<span class="sig-name descname"><span class="pre">get_cyc_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_cyc_aging" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the resistance growth and capacity fade from cycle aging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – THe batt</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.get_total_aging">
<span class="sig-name descname"><span class="pre">get_total_aging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.get_total_aging" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total capacity fade of the battery object. This includes both cycle and calendar aging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> (<em>object</em>) – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total calendar + cycle aging of the battery.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.run" title="Permalink to this definition"></a></dt>
<dd><p>Runs the aging model for the battery object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – The battery (pack) object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.update_capacity">
<span class="sig-name descname"><span class="pre">update_capacity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.update_capacity" title="Permalink to this definition"></a></dt>
<dd><p>Updates the capacity of the battery based on the aging model adopted from Schmalsteig Et. Al.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – Battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object capacity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.batteryAgingSim.BatteryAging.update_resistance">
<span class="sig-name descname"><span class="pre">update_resistance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.batteryAgingSim.BatteryAging.update_resistance" title="Permalink to this definition"></a></dt>
<dd><p>Updates the resistance of the battery based on the aging model adopted from Schmalsteig Et. Al.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery</strong> – Battery object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Updates the battery object resistance.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="battery-pack-module">
<h2>Battery pack module<a class="headerlink" href="#battery-pack-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-charging_sim.capacitor">
<span id="capacitor-module"></span><h2>Capacitor module<a class="headerlink" href="#module-charging_sim.capacitor" title="Permalink to this heading"></a></h2>
<p>This file hosts the class for capacitors. Future work</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.capacitor.Capacitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.capacitor.</span></span><span class="sig-name descname"><span class="pre">Capacitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.capacitor.Capacitor" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="charging-station-module">
<h2>Charging Station module<a class="headerlink" href="#charging-station-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-charging_sim.clock">
<span id="clock-module"></span><h2>Clock module<a class="headerlink" href="#module-charging_sim.clock" title="Permalink to this heading"></a></h2>
<p>This module defines the clock class. This allows ease of temporal understanding of different timescales
within the simulation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.clock.Clock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.clock.</span></span><span class="sig-name descname"><span class="pre">Clock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.clock.Clock" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines the clock for the simulation. It allows ease of temporal understanding of different timescales.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – Configuration dictionary.</p>
</dd>
</dl>
<dl>
<dt>Derived attributes:</dt><dd><p>pf_dt: Powerflow timestep in seconds.</p>
<p>trans_dt: Transformer timestep in seconds.</p>
<p>battery_dt: Battery timestep in seconds.</p>
<p>dt: Clock timestep in seconds.</p>
<p>it: Iteration number (usually starts at 0).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.clock.Clock.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.clock.Clock.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the clock.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.clock.Clock.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.clock.Clock.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the clock.</p>
</dd></dl>

</dd></dl>

</section>
<section id="controller-module">
<h2>Controller module<a class="headerlink" href="#controller-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-charging_sim.electricityPrices">
<span id="electricity-prices-module"></span><h2>Electricity prices module<a class="headerlink" href="#module-charging_sim.electricityPrices" title="Permalink to this heading"></a></h2>
<p><strong>Overview</strong>
This module contains the class that loads the electricity price data and structure used for sampling prices during
simulation.</p>
<p><strong>Details</strong></p>
<p>Based on the prices.json config file, this module will load the desired price TOU rate file that will be used in
optimization problem. The default is the PGE_BEV2_S rate file, which is valid for California, however users can load
their own TOU rate file. The prices are loaded into a numpy array and can be sampled from during simulation.
The prices are sampled based on the month of the year and the hour of the day.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.electricityPrices.</span></span><span class="sig-name descname"><span class="pre">PriceLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class pre-loads prices and is used to sample prices that are used for optimization of EVSE profits/costs
during charging simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – Configuration dictionary for the price loader.</p></li>
<li><p><strong>path_prefix</strong> – This string path prefix is obtained first based on your repository location to set the</p></li>
</ul>
</dd>
</dl>
<p>correct path for obtaining the data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.downscale">
<span class="sig-name descname"><span class="pre">downscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.downscale" title="Permalink to this definition"></a></dt>
<dd><p>Downscales the price data into a finer resolution, similar to the downscaling method in Pandas.
Typically only used once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_res</strong> – Resolution of the input data.</p></li>
<li><p><strong>output_res</strong> – Resolution of the output data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Saves output data to a csv file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.get_prices">
<span class="sig-name descname"><span class="pre">get_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.get_prices" title="Permalink to this definition"></a></dt>
<dd><p>Returns time-of-use (TOU) rate prices from data. This assumes TOU rates do not change day-to-day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_idx</strong> (<em>int</em>) – Starting index from which to price vector will start.</p></li>
<li><p><strong>num_steps</strong> (<em>int</em>) – Cardinality of the price vector being returned.</p></li>
<li><p><strong>month</strong> (<em>int</em>) – Month for which the price vector will be obtained (for example, 1 - Jan, 12 - December).</p></li>
</ul>
</dd>
<dt class="field-even">Return price_vector<span class="colon">:</span></dt>
<dd class="field-even"><p>The TOU price vector, which is a numpy array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.electricityPrices.PriceLoader.set_month_data">
<span class="sig-name descname"><span class="pre">set_month_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">month</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.electricityPrices.PriceLoader.set_month_data" title="Permalink to this definition"></a></dt>
<dd><p>Sets the month for which the prices will be obtained.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>month</strong> – Month to set the data to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.node">
<span id="node-module"></span><h2>Node module<a class="headerlink" href="#module-charging_sim.node" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.node.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.node.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">others</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Node object class for defining relevant <cite>node_name</cite> for co-simulation. It helps organize centralized DER assets
within their respective grid locations. This is only used for centralized DER simulations and it is not used
for collocated EVSE and DER simulations.</p>
<p>For example, within the centralized simulation, if there are multiple secondary feeders connected to a single primary
feeder, then the primary feeder would be a <cite>node_name</cite> and the secondary feeders would be children of that
<cite>node_name</cite>. Thus, when power injections at each time step are calculated through optimization, the controller and
orchestrator knows the load at each child node, which is then aggregated to control the DER assets at the parent
node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the node_name.</p></li>
<li><p><strong>idx</strong> – Index of the node_name.</p></li>
<li><p><strong>storage</strong> – Storage object.</p></li>
<li><p><strong>solar</strong> – Solar object.</p></li>
<li><p><strong>controller</strong> – Controller object.</p></li>
<li><p><strong>children</strong> – List of children nodes.</p></li>
<li><p><strong>parent</strong> – Parent node.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.node.Node.add_child">
<span class="sig-name descname"><span class="pre">add_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node.add_child" title="Permalink to this definition"></a></dt>
<dd><p>Adds a child node_name to the current node_name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> – Node object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.node.Node.get_current_load">
<span class="sig-name descname"><span class="pre">get_current_load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node.get_current_load" title="Permalink to this definition"></a></dt>
<dd><p>Returns the current load of the charging station.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current load (kW) of the charging station.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.node.Node.save_sim_data">
<span class="sig-name descname"><span class="pre">save_sim_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node.save_sim_data" title="Permalink to this definition"></a></dt>
<dd><p>Saves all relevant simulation data to csv files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_prefix</strong> – Path string to save the data from simulation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.node.Node.set_current_load">
<span class="sig-name descname"><span class="pre">set_current_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node.set_current_load" title="Permalink to this definition"></a></dt>
<dd><p>Sets the current load of the charging station.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>load</strong> – Load in kW.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.node.Node.update_load">
<span class="sig-name descname"><span class="pre">update_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_grid_load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ev_load</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.node.Node.update_load" title="Permalink to this definition"></a></dt>
<dd><p>Updates the node_name loads, including DER assets. MPC mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_grid_load</strong> – Net load charging station pulls from the grid.</p></li>
<li><p><strong>ev_load</strong> – Sum of all electric vehicle charging demand within that primary feeder node_name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.optimization">
<span id="optimization-module"></span><h2>Optimization module<a class="headerlink" href="#module-charging_sim.optimization" title="Permalink to this heading"></a></h2>
<p>Contains the Optimization class, which is used by controller to solve the optimization problem.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.optimization.</span></span><span class="sig-name descname"><span class="pre">Optimization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objective_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power_demand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GUROBI'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Constructor for the overall optimization problem solved by the optimization-based controller.</p>
<ul class="simple">
<li><p>Designed to include future cost functions such as transformer degradation and battery aging.</p></li>
<li><p>Limited to convex and Mixed Integer programs, depending on the selected solver.</p></li>
<li><p>Note, each desired solver must be installed separately on user’s PC for a successful run.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objective_type</strong> – Type of objective problem being optimized.</p></li>
<li><p><strong>objective</strong> – CVXPY objective function object.</p></li>
<li><p><strong>controller</strong> – Controller object.</p></li>
<li><p><strong>power_demand</strong> – Power demand at the Charging Station.</p></li>
<li><p><strong>time_res</strong> – Time resolution of problem data.</p></li>
<li><p><strong>transformer</strong> – Transformer object (optional, not implemented yet).</p></li>
<li><p><strong>battery</strong> – Battery object.</p></li>
<li><p><strong>time</strong> – Time Counter.</p></li>
<li><p><strong>name</strong> – Optimization identifier.</p></li>
<li><p><strong>solar</strong> – Solar Object.</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – Available backend solver to invoke (ECOS, MOSEK, GUROBI, etc.).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.add_demand_charge">
<span class="sig-name descname"><span class="pre">add_demand_charge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charge</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.add_demand_charge" title="Permalink to this definition"></a></dt>
<dd><p>Including demand charge in the objective function (Deprecated).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>charge</strong> – Demand charge ($/kW).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.aggregate_constraints">
<span class="sig-name descname"><span class="pre">aggregate_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.aggregate_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Aggregates all the constraints into one constraint list within the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_battery_cost">
<span class="sig-name descname"><span class="pre">build_battery_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.build_battery_cost" title="Permalink to this definition"></a></dt>
<dd><p>Build battery cost (to be implemented in future version).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_emissions_cost">
<span class="sig-name descname"><span class="pre">build_emissions_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.build_emissions_cost" title="Permalink to this definition"></a></dt>
<dd><p>Builds emission cost to be included in the objective function (future work).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.build_transformer_cost">
<span class="sig-name descname"><span class="pre">build_transformer_cost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.build_transformer_cost" title="Permalink to this definition"></a></dt>
<dd><p>Build Transformer cost (to be implemented in future version).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.get_battery_constraint">
<span class="sig-name descname"><span class="pre">get_battery_constraint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.get_battery_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Returns the list of battery constraints within the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Battery constraints.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.get_constraints">
<span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.get_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Returns the constraints list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all constraints within the problem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.optimization.Optimization.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.optimization.Optimization.run" title="Permalink to this definition"></a></dt>
<dd><p>Runs an instance of the optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Return float<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optimal objective value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="orchestrator-module">
<h2>Orchestrator module<a class="headerlink" href="#orchestrator-module" title="Permalink to this heading"></a></h2>
</section>
<section id="simulate-module">
<h2>Simulate module<a class="headerlink" href="#simulate-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-charging_sim.solar">
<span id="solar-module"></span><h2>Solar module<a class="headerlink" href="#module-charging_sim.solar" title="Permalink to this heading"></a></h2>
<p>This module contains the Solar class. The solar class is used to simulate the solar power generation at a given site
by sampling Global Horizontal Irradiance (GHI) data from the dataset of the desired location.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.solar.Solar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.solar.</span></span><span class="sig-name descname"><span class="pre">Solar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is used to simulate the solar power generation at a given site by sampling Global Horizontal Irradiance
and estimating the solar generation, given the solar nameplate capacity that can be modified it its configuration
file <cite>solar.json</cite>. It also contains the optimization variables for the solar system.</p>
<p>The solar power generation is estimated using the following equation:</p>
<div class="math notranslate nohighlight">
\[P_{solar} = \min(P_{rated}, \eta *  A * GHI).\]</div>
<p>Where <span class="math notranslate nohighlight">\(P_{solar}\)</span> is the solar power generation, <span class="math notranslate nohighlight">\(\eta\)</span> is the efficiency of the solar system,
<span class="math notranslate nohighlight">\(P_{rated}\)</span> is the solar nameplate capacity, <span class="math notranslate nohighlight">\(A\)</span> is the area of the solar panels, and <span class="math notranslate nohighlight">\(GHI\)</span> is
the Global Horizontal Irradiance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – Solar configuration dictionary.</p></li>
<li><p><strong>path_prefix</strong> – This string path prefix is obtained first based on your repository location to set the right path.</p></li>
<li><p><strong>controller</strong> – Controller object for making decisions on flow of power from energy devices.</p></li>
<li><p><strong>num_steps</strong> – Number of steps in the simulation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.downscale">
<span class="sig-name descname"><span class="pre">downscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.downscale" title="Permalink to this definition"></a></dt>
<dd><p>This is used only to initially downscale data to desired resolution</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_constraints">
<span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.get_constraints" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_power">
<span class="sig-name descname"><span class="pre">get_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(96,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.get_power" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.get_solar_output">
<span class="sig-name descname"><span class="pre">get_solar_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.get_solar_output" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.modify_res">
<span class="sig-name descname"><span class="pre">modify_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.modify_res" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.solar.Solar.update_history">
<span class="sig-name descname"><span class="pre">update_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.Solar.update_history" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.solar.main">
<span class="sig-prename descclassname"><span class="pre">charging_sim.solar.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.solar.main" title="Permalink to this definition"></a></dt>
<dd><p>THis is mainly to testing or generating new data purposes</p>
</dd></dl>

</section>
<section id="module-charging_sim.transformer">
<span id="transformer-module"></span><h2>Transformer module<a class="headerlink" href="#module-charging_sim.transformer" title="Permalink to this heading"></a></h2>
<p>Module for the transformer class. This module contains classes for simulating the thermal dynamics of transformers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="charging_sim.transformer.OilTypeTransformer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">charging_sim.transformer.</span></span><span class="sig-name descname"><span class="pre">OilTypeTransformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_clock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.transformer.OilTypeTransformer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.transformer.OilTypeTransformer.plot_states">
<span class="sig-name descname"><span class="pre">plot_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.transformer.OilTypeTransformer.plot_states" title="Permalink to this definition"></a></dt>
<dd><p>Plot the transformer thermal states.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="charging_sim.transformer.OilTypeTransformer.thermal_dynamics">
<span class="sig-name descname"><span class="pre">thermal_dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.transformer.OilTypeTransformer.thermal_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Propagate transformer state from previous timestep to current timestep (currently it is a minute resolution data
simulated in 10 seconds increment).
Nonlinear model from Swift et. Al (2001).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-charging_sim.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-charging_sim.utils" title="Permalink to this heading"></a></h2>
<p>Stores general configurations and general functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.PGE_BEV2_S">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">PGE_BEV2_S</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.PGE_BEV2_S" title="Permalink to this definition"></a></dt>
<dd><p>Price schedule/TOU rate for PGE EVSE doc can be found here:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.add_power_profile_to_object">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">add_power_profile_to_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_power_profile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.add_power_profile_to_object" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_cost_PGE_BEV2S">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_cost_PGE_BEV2S</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices_TOU</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalize_max_power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_power_pen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.build_cost_PGE_BEV2S" title="Permalink to this definition"></a></dt>
<dd><p>This will need to use a heuristic and take the average conservative estimate for gamma</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_electricity_cost">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_electricity_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices_TOU</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand_charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.build_electricity_cost" title="Permalink to this definition"></a></dt>
<dd><p>Need to update from home load right now; maybe this can be useful in future opt.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.build_objective">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">build_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">electricity_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_degradation_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emissions_cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer_cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.build_objective" title="Permalink to this definition"></a></dt>
<dd><p>Builds the objective function that we will minimize.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="charging_sim.utils.load_prices">
<span class="sig-prename descclassname"><span class="pre">charging_sim.utils.</span></span><span class="sig-name descname"><span class="pre">load_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_intervals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_vector</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#charging_sim.utils.load_prices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="Packages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="batt_sys_identification.html" class="btn btn-neutral float-right" title="Battery System Identification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Emmanuel Balogun.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>